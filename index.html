<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8" />
    <title>åŸç”Ÿç²’å­ Â· é¼ æ ‡å¼•åŠ›é£æš´</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            cursor: none; /* éšè—é»˜è®¤å…‰æ ‡ï¼Œç”¨ç²’å­å½“å…‰æ ‡ */
        }
        canvas {
            display: block;
        }
        .info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: rgba(0, 255, 255, 0.7);
            font-family: Arial, sans-serif;
            font-size: 14px;
            pointer-events: none;
        }
    </style>
</head>
<body>

<canvas id="particleCanvas"></canvas>
<div class="info">ç§»åŠ¨é¼ æ ‡ï¼Œç²’å­ä¼šè¿½ç€ä½ è·‘ï¼ç‚¹å‡»è§¦å‘çˆ†ç‚¸ ğŸ’¥</div>

<script>
    // ========== æ ¸å¿ƒï¼šåŸç”Ÿç²’å­ç³»ç»Ÿ ==========
    const canvas = document.getElementById('particleCanvas');
    const ctx = canvas.getContext('2d');

    // å…¨å±é€‚é…
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // é¼ æ ‡ä½ç½®
    let mouse = { x: canvas.width / 2, y: canvas.height / 2 };

    // è·Ÿè¸ªä¸Šæ¬¡ç‚¹å‡»æ—¶é—´ï¼Œé˜²æ­¢çˆ†ç‚¸å¤ªé¢‘ç¹
    let lastClick = 0;

    // ç²’å­æ•°ç»„
    const particles = [];
    const particleCount = 150;

    // åˆ›å»ºç²’å­
    function createParticles() {
        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 5 + 1,
                speedX: Math.random() * 2 - 1,
                speedY: Math.random() * 2 - 1,
                color: `hsl(${Math.random() * 360}, 80%, 60%)`,
                life: 1.0
            });
        }
    }

    // æ›´æ–°ç²’å­
    function updateParticles() {
        // æ¸…ç©ºç”»å¸ƒ
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // æ›´æ–°æ¯ä¸ªç²’å­
        particles.forEach(p => {
            // å‘é¼ æ ‡ç§»åŠ¨
            const dx = mouse.x - p.x;
            const dy = mouse.y - p.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < 200) {
                p.speedX += dx / dist * 0.15;
                p.speedY += dy / dist * 0.15;
            }

            // æ·»åŠ è½»å¾®é˜»åŠ›
            p.speedX *= 0.95;
            p.speedY *= 0.95;

            // æ›´æ–°ä½ç½®
            p.x += p.speedX;
            p.y += p.speedY;

            // è¾¹ç•Œåå¼¹
            if (p.x < 0 || p.x > canvas.width) p.speedX *= -0.8;
            if (p.y < 0 || p.y > canvas.height) p.speedY *= -0.8;

            // ç»˜åˆ¶ç²’å­
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
            ctx.fillStyle = p.color;
            ctx.globalAlpha = p.life;
            ctx.fill();
            ctx.globalAlpha = 1;
        });

        // ç»˜åˆ¶è¿çº¿ï¼ˆè¿‘çš„ç²’å­è¿èµ·æ¥ï¼‰
        for (let i = 0; i < particles.length; i++) {
            for (let j = i + 1; j < particles.length; j++) {
                const dx = particles[i].x - particles[j].x;
                const dy = particles[i].y - particles[j].y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < 100) {
                    ctx.beginPath();
                    ctx.moveTo(particles[i].x, particles[i].y);
                    ctx.lineTo(particles[j].x, particles[j].y);
                    ctx.strokeStyle = `rgba(255, 255, 255, ${0.1 * (1 - distance / 100)})`;
                    ctx.stroke();
                }
            }
        }

        requestAnimationFrame(updateParticles);
    }

    // é¼ æ ‡ç§»åŠ¨äº‹ä»¶ â€”â€” è¿™é‡Œä¸€å®šèƒ½è¯»åˆ°ï¼
    canvas.addEventListener('mousemove', (e) => {
        mouse.x = e.clientX;
        mouse.y = e.clientY;
    });

    // ç‚¹å‡»çˆ†ç‚¸æ•ˆæœ
    canvas.addEventListener('click', (e) => {
        const now = Date.now();
        if (now - lastClick < 500) return; // é˜²æŠ–
        lastClick = now;

        particles.forEach(p => {
            const dx = e.clientX - p.x;
            const dy = e.clientY - p.y;
            const angle = Math.atan2(dy, dx);
            const force = 10;
            p.speedX += Math.cos(angle) * force;
            p.speedY += Math.sin(angle) * force;
        });

        // é—ªå…‰
        document.body.style.background = '#fff';
        setTimeout(() => {
            document.body.style.background = '#000';
        }, 100);
    });

    // çª—å£è°ƒæ•´
    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });

    // åˆå§‹åŒ–
    createParticles();
    updateParticles();
</script>

</body>
</html>
